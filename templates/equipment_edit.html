{% extends "base.html" %}

{% block title %}Anlage bearbeiten - Industrielles Anlagenüberwachungssystem{% endblock %}

{% block content %}
<h1 style="margin-bottom: 2rem;">Anlage bearbeiten</h1>

{% if error %}
<div class="alert alert-error">
    <strong>Fehler:</strong> {{ error }}
</div>
{% endif %}

<div class="card">
    <h2>Anlagen-Informationen</h2>
    <form method="POST" action="{{ url_for('web.equipment_edit', equipment_id=equipment.equipment_id) }}">
        <div class="form-group">
            <label for="equipment_id">Anlagen-ID</label>
            <input 
                type="text" 
                id="equipment_id" 
                name="equipment_id" 
                readonly 
                value="{{ equipment.equipment_id }}"
                style="background-color: #f5f5f5;"
            >
            <small style="color: #666;">ID kann nicht geändert werden</small>
        </div>
        
        <div class="form-group">
            <label for="name">Anlagenname *</label>
            <input 
                type="text" 
                id="name" 
                name="name" 
                required 
                value="{{ equipment.name }}"
            >
        </div>
        
        <div class="form-group">
            <label for="type">Anlagentyp *</label>
            <select id="type" name="type" required>
                <option value="pump" {% if equipment.type == 'pump' %}selected{% endif %}>Pumpe</option>
                <option value="motor" {% if equipment.type == 'motor' %}selected{% endif %}>Motor</option>
                <option value="conveyor" {% if equipment.type == 'conveyor' %}selected{% endif %}>Förderband</option>
                <option value="sensor" {% if equipment.type == 'sensor' %}selected{% endif %}>Sensor</option>
                <option value="compressor" {% if equipment.type == 'compressor' %}selected{% endif %}>Kompressor</option>
                <option value="valve" {% if equipment.type == 'valve' %}selected{% endif %}>Ventil</option>
                <option value="tank" {% if equipment.type == 'tank' %}selected{% endif %}>Tank</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="location">Standort *</label>
            <input 
                type="text" 
                id="location" 
                name="location" 
                required 
                value="{{ equipment.location }}"
            >
        </div>
        
        <div class="form-group">
            <label for="status">Status</label>
            <select id="status" name="status">
                <option value="active" {% if equipment.status == 'active' %}selected{% endif %}>Aktiv</option>
                <option value="inactive" {% if equipment.status == 'inactive' %}selected{% endif %}>Inaktiv</option>
                <option value="maintenance" {% if equipment.status == 'maintenance' %}selected{% endif %}>Wartung</option>
            </select>
        </div>
        
        <div style="display: flex; gap: 1rem;">
            <button type="submit" class="btn btn-primary">Speichern</button>
            <a href="{{ url_for('web.equipment_detail', equipment_id=equipment.equipment_id) }}" class="btn" style="background-color: #95a5a6; color: white;">Abbrechen</a>
        </div>
    </form>
</div>
{% endblock %}