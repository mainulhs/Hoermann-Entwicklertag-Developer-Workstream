{% extends "base.html" %}

{% block title %}Anlage registrieren - Industrielles Anlagenüberwachungssystem{% endblock %}

{% block content %}
<h1 style="margin-bottom: 2rem;">Neue Anlage registrieren</h1>

{% if error %}
<div class="alert alert-error">
    <strong>Fehler:</strong> {{ error }}
</div>
{% endif %}

{% if success %}
<div class="alert alert-success">
    <strong>Erfolg!</strong> Anlage erfolgreich registriert.
    <a href="/">Zurück zum Dashboard</a>
</div>
{% endif %}

<div class="card">
    <h2>Anlagen-Informationen</h2>
    <form method="POST" action="/equipment/new">
        <div class="form-group">
            <label for="equipment_id">Anlagen-ID *</label>
            <input 
                type="text" 
                id="equipment_id" 
                name="equipment_id" 
                required 
                placeholder="z.B. PUMPE-001"
                value="{{ request.form.equipment_id or '' }}"
            >
            <small style="color: #666;">Eindeutige Kennung für diese Anlage</small>
        </div>
        
        <div class="form-group">
            <label for="name">Anlagenname *</label>
            <input 
                type="text" 
                id="name" 
                name="name" 
                required 
                placeholder="z.B. Hauptwasserpumpe"
                value="{{ request.form.name or '' }}"
            >
        </div>
        
        <div class="form-group">
            <label for="type">Anlagentyp *</label>
            <select id="type" name="type" required>
                <option value="">Typ auswählen...</option>
                <option value="pumpe" {% if request.form.type == 'pumpe' %}selected{% endif %}>Pumpe</option>
                <option value="motor" {% if request.form.type == 'motor' %}selected{% endif %}>Motor</option>
                <option value="förderband" {% if request.form.type == 'förderband' %}selected{% endif %}>Förderband</option>
                <option value="sensor" {% if request.form.type == 'sensor' %}selected{% endif %}>Sensor</option>
                <option value="kompressor" {% if request.form.type == 'kompressor' %}selected{% endif %}>Kompressor</option>
                <option value="ventil" {% if request.form.type == 'ventil' %}selected{% endif %}>Ventil</option>
                <option value="tank" {% if request.form.type == 'tank' %}selected{% endif %}>Tank</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="location">Standort *</label>
            <input 
                type="text" 
                id="location" 
                name="location" 
                required 
                placeholder="z.B. Gebäude A, Etage 2"
                value="{{ request.form.location or '' }}"
            >
        </div>
        
        <div class="form-group">
            <label for="status">Status</label>
            <select id="status" name="status">
                <option value="active" {% if not request.form.status or request.form.status == 'active' %}selected{% endif %}>Aktiv</option>
                <option value="inactive" {% if request.form.status == 'inactive' %}selected{% endif %}>Inaktiv</option>
                <option value="maintenance" {% if request.form.status == 'maintenance' %}selected{% endif %}>Wartung</option>
            </select>
        </div>
        
        <div style="display: flex; gap: 1rem;">
            <button type="submit" class="btn btn-primary">Anlage registrieren</button>
            <a href="/" class="btn" style="background-color: #95a5a6; color: white;">Abbrechen</a>
        </div>
    </form>
</div>
{% endblock %}
